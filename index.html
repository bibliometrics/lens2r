<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Interface to the Lens API ‚Ä¢ lens2r</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R Interface to the Lens API">
<meta property="og:description" content="The Package is an R Interface to the Lens API &lt;https://www.lens.org&gt;
    Requires access token from lens.org.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">lens2r</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/lens2r_usage.html">lens2r Package Usage</a>
    </li>
    <li>
      <a href="articles/understanding_lens_api.html">Understanding Lens.org API</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sbalci/lens2r/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="lens2r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#lens2r" class="anchor"></a>lens2r</h1></div>
<!-- badges: start -->

<p><a href="https://github.com/sbalci/lens2r/actions"><img src="https://github.com/sbalci/lens2r/workflows/R%20CMD%20Check%20via%20%7Btic%7D/badge.svg?branch=master" alt="R CMD Check via {tic}"></a> <a href="https://travis-ci.com/sbalci/lens2r"><img src="https://travis-ci.com/sbalci/lens2r.svg?branch=master" alt="Travis build status"></a> <!-- badges: end --></p>
<p>The goal of lens2r is to get Lens.org scholar data into R environment. You need Lens.org scholar API token to access data, you can <a href="https://www.lens.org/lens/user/subscriptions#scholar">get one here</a>.</p>
<blockquote>
<p>Scholarly Search and Analysis<br>
Lens serves over 200 million scholarly records, compiled and harmonised from Microsoft Academic, PubMed and Crossref, enhanced with UnPaywall open access information, CORE full text and links to ORCID. The full scholarly citation graph is provided for the first time as an open public resource.</p>
</blockquote>
<p>üî¨üî¨üî¨üî¨ UNDER CONSTRUCTION üõ†‚õîÔ∏è‚ö†Ô∏èüî©</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<!-- You can install the released version of lens2r from [CRAN](https://CRAN.R-project.org) with: -->
<!-- ``` r -->
<!-- install.packages("lens2r") -->
<!-- ``` -->
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu">install_github</span>(<span class="st">"sbalci/lens2r"</span>)</pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lens2r</span>)
<span class="co">#&gt; Loading required package: httr</span>
<span class="co">#&gt; Loading required package: jsonlite</span>
<span class="co">#&gt; Loading required package: magrittr</span>

<span class="no">request</span> <span class="kw">&lt;-</span> <span class="st">'{
    "query": {
        "match_phrase": {
            "author.affiliation.name": "Harvard University"
        }
    },
    "size": 1,
    "sort": [{
        "year_published": "desc"
    }]
}'</span>
<span class="no">data</span> <span class="kw">&lt;-</span> <span class="kw pkg">lens2r</span><span class="kw ns">::</span><span class="fu"><a href="reference/get_scholarly_data.html">get_scholarly_data</a></span>(<span class="kw">query</span> <span class="kw">=</span> <span class="no">request</span>)

<span class="no">output_content</span> <span class="kw">&lt;-</span> <span class="kw pkg">httr</span><span class="kw ns">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/content.html">content</a></span>(<span class="no">data</span>, <span class="st">"text"</span>)

<span class="no">output_flatten</span> <span class="kw">&lt;-</span> <span class="kw pkg">jsonlite</span><span class="kw ns">::</span><span class="fu"><a href="https://jeroen.cran.dev/jsonlite/reference/fromJSON.html">fromJSON</a></span>(<span class="no">output_content</span>, <span class="kw">flatten</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="no">output_flatten_data</span> <span class="kw">&lt;-</span> <span class="no">output_flatten</span>$<span class="no">data</span>

<span class="no">output_flatten_data</span>
<span class="co">#&gt;               lens_id                          created publication_type</span>
<span class="co">#&gt; 1 040-450-672-971-619 2019-08-12T03:30:43.659000+00:00  journal article</span>
<span class="co">#&gt;                                                                          authors</span>
<span class="co">#&gt; 1 NA, Mark, Tushnet, M, magid, 1845306793, Harvard University, grid.38142.3c, US</span>
<span class="co">#&gt;                                                                                                title</span>
<span class="co">#&gt; 1 Institutions protecting constitutional democracy: Some conceptual and methodological preliminaries</span>
<span class="co">#&gt;   volume issue languages          references</span>
<span class="co">#&gt; 1     70     2        en 199-199-909-278-791</span>
<span class="co">#&gt;                                   fields_of_study</span>
<span class="co">#&gt; 1 Liberal democracy, Sociology, Law, Constitution</span>
<span class="co">#&gt;                                                                                                      source_urls</span>
<span class="co">#&gt; 1 html, html, https://www.utpjournals.press/doi/abs/10.3138/utlj.2019-05-27, https://muse.jhu.edu/article/731612</span>
<span class="co">#&gt;                                                                                                                                                                                                   abstract</span>
<span class="co">#&gt; 1 Chapter 9 of the South African Constitution refers to ‚Äòinstitutions protecting constitutional democracy‚Äô (IPDs). Contemporary constitution designers have written into new constitutions numerous suc...</span>
<span class="co">#&gt;   year_published references_count</span>
<span class="co">#&gt; 1           2020                1</span>
<span class="co">#&gt;                                      external_ids start_page end_page</span>
<span class="co">#&gt; 1 magid, doi, 2964660712, 10.3138/utlj.2019-05-27         95      106</span>
<span class="co">#&gt;   author_count            date_published                      source.title</span>
<span class="co">#&gt; 1            1 2020-03-01T00:00:00+00:00 University of Toronto Law Journal</span>
<span class="co">#&gt;   source.type            source.publisher        source.issn source.country</span>
<span class="co">#&gt; 1     Journal University of Toronto Press 00420220, 17101174         Canada</span>
<span class="co">#&gt;   source.asjc_codes                 source.asjc_subjects</span>
<span class="co">#&gt; 1        3308, 3312 Law, Sociology and Political Science</span>

<span class="no">output_flatten</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(<span class="no">output_flatten</span>)

<span class="no">output_flatten</span>
<span class="co">#&gt;    total        data.lens_id                     data.created</span>
<span class="co">#&gt; 1 446110 040-450-672-971-619 2019-08-12T03:30:43.659000+00:00</span>
<span class="co">#&gt;   data.publication_type</span>
<span class="co">#&gt; 1       journal article</span>
<span class="co">#&gt;                                                                     data.authors</span>
<span class="co">#&gt; 1 NA, Mark, Tushnet, M, magid, 1845306793, Harvard University, grid.38142.3c, US</span>
<span class="co">#&gt;                                                                                           data.title</span>
<span class="co">#&gt; 1 Institutions protecting constitutional democracy: Some conceptual and methodological preliminaries</span>
<span class="co">#&gt;   data.volume data.issue data.languages     data.references</span>
<span class="co">#&gt; 1          70          2             en 199-199-909-278-791</span>
<span class="co">#&gt;                              data.fields_of_study</span>
<span class="co">#&gt; 1 Liberal democracy, Sociology, Law, Constitution</span>
<span class="co">#&gt;                                                                                                 data.source_urls</span>
<span class="co">#&gt; 1 html, html, https://www.utpjournals.press/doi/abs/10.3138/utlj.2019-05-27, https://muse.jhu.edu/article/731612</span>
<span class="co">#&gt;                                                                                                                                                                                              data.abstract</span>
<span class="co">#&gt; 1 Chapter 9 of the South African Constitution refers to ‚Äòinstitutions protecting constitutional democracy‚Äô (IPDs). Contemporary constitution designers have written into new constitutions numerous suc...</span>
<span class="co">#&gt;   data.year_published data.references_count</span>
<span class="co">#&gt; 1                2020                     1</span>
<span class="co">#&gt;                                 data.external_ids data.start_page data.end_page</span>
<span class="co">#&gt; 1 magid, doi, 2964660712, 10.3138/utlj.2019-05-27              95           106</span>
<span class="co">#&gt;   data.author_count       data.date_published                 data.source.title</span>
<span class="co">#&gt; 1                 1 2020-03-01T00:00:00+00:00 University of Toronto Law Journal</span>
<span class="co">#&gt;   data.source.type       data.source.publisher   data.source.issn</span>
<span class="co">#&gt; 1          Journal University of Toronto Press 00420220, 17101174</span>
<span class="co">#&gt;   data.source.country data.source.asjc_codes</span>
<span class="co">#&gt; 1              Canada             3308, 3312</span>
<span class="co">#&gt;              data.source.asjc_subjects results</span>
<span class="co">#&gt; 1 Law, Sociology and Political Science       1</span></pre></div>
</div>
<div id="similar-works" class="section level2">
<h2 class="hasAnchor">
<a href="#similar-works" class="anchor"></a>Similar Works</h2>
<div id="lensr" class="section level3">
<h3 class="hasAnchor">
<a href="#lensr" class="anchor"></a>lensr</h3>
<p>A package to access patent data from the Lens Patent Database Deprecated</p>
<p><a href="https://github.com/poldham/lensr" class="uri">https://github.com/poldham/lensr</a></p>
</div>
<div id="covidlens" class="section level3">
<h3 class="hasAnchor">
<a href="#covidlens" class="anchor"></a>covidlens</h3>
<p><a href="https://github.com/poldham/covidlens" class="uri">https://github.com/poldham/covidlens</a></p>
<p>Scientific and Patent Literature on Covid-19 Corona Virus from the Lens for R <a href="https://poldham.github.io/covidlens/" class="uri">https://poldham.github.io/covidlens/</a></p>
</div>
<div id="r-codes-in-lensorg-api-documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#r-codes-in-lensorg-api-documentation" class="anchor"></a>R codes in Lens.org API documentation</h3>
<p><a href="https://docs.api.lens.org/samples.html#r" class="uri">https://docs.api.lens.org/samples.html#r</a></p>
<p>These are the basic codes this package uses</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="no">httr</span>)
<span class="no">getScholarlyData</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">token</span>, <span class="no">query</span>){
    <span class="no">url</span> <span class="kw">&lt;-</span> <span class="st">'https://api.lens.org/scholarly/search'</span>
    <span class="no">headers</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'Authorization'</span> <span class="kw">=</span> <span class="no">token</span>, <span class="st">'Content-Type'</span> <span class="kw">=</span> <span class="st">'application/json'</span>)
    <span class="kw pkg">httr</span><span class="kw ns">::</span><span class="fu"><a href="https://httr.r-lib.org/reference/POST.html">POST</a></span>(<span class="kw">url</span> <span class="kw">=</span> <span class="no">url</span>, <span class="fu"><a href="https://httr.r-lib.org/reference/add_headers.html">add_headers</a></span>(<span class="kw">.headers</span><span class="kw">=</span><span class="no">headers</span>), <span class="kw">body</span> <span class="kw">=</span> <span class="no">query</span>)
}
<span class="no">token</span> <span class="kw">&lt;-</span> <span class="st">'your-access-token'</span>
<span class="no">request</span> <span class="kw">&lt;-</span> <span class="st">'{
    "query": {
        "match_phrase": {
            "author.affiliation.name": "Harvard University"
        }
    },
    "size": 1,
    "sort": [{
        "year_published": "desc"
    }]
}'</span>
<span class="no">data</span> <span class="kw">&lt;-</span> <span class="fu">getScholarlyData</span>(<span class="no">token</span>, <span class="no">request</span>)
<span class="fu"><a href="https://httr.r-lib.org/reference/content.html">content</a></span>(<span class="no">data</span>, <span class="st">"text"</span>)</pre></div>
<hr>
<p><a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/serdarbalci">Follow @serdarbalci</a></p>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/bS0teIs"><img src="https://cdn.buymeacoffee.com/buttons/bmc-new-btn-logo.svg" alt="Buy me a coffee"><span style="margin-left:15px;font-size:28px !important;">Buy me a coffee</span></a></p>
<p><a href="https://paypal.me/serdarbalci" class="uri">https://paypal.me/serdarbalci</a></p>
<hr>
<p><img src="https://cdn.buymeacoffee.com/buttons/arial-orange.png" alt="Buy Me A Coffee" style="height: 51px !important;width: 217px !important;"><br><img src="https://img.shields.io/twitter/follow/serdarbalci?style=social" alt="Twitter Follow"><img src="https://img.shields.io/github/followers/sbalci?style=social" alt="GitHub followers"><a href="https://saythanks.io/to/sbalci"><img src="https://img.shields.io/badge/Say%20Thanks-!-1EAEDB.svg" alt="Say Thanks!"></a></p>
</div>
</div>
<div id="development-status" class="section level2">
<h2 class="hasAnchor">
<a href="#development-status" class="anchor"></a>Development Status</h2>
<p><a href="https://www.repostatus.org/#wip"><img src="https://www.repostatus.org/badges/latest/wip.svg" alt="Project Status: WIP ‚Äì Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a> <a href="https://github.com/sbalci/lens2r/actions"><img src="https://github.com/sbalci/lens2r/workflows/R%20CMD%20Check%20via%20%7Btic%7D/badge.svg?branch=master" alt="R CMD Check via {tic}"></a> <a href="https://travis-ci.com/sbalci/lens2r"><img src="https://travis-ci.com/sbalci/lens2r.svg?branch=master" alt="Travis build status"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/sbalci/lens2r/">https://‚Äãgithub.com/‚Äãsbalci/‚Äãlens2r/‚Äã</a>
</li>
<li>Report a bug at <br><a href="https://github.com/sbalci/lens2r/issues">https://‚Äãgithub.com/‚Äãsbalci/‚Äãlens2r/‚Äãissues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Serdar Balci <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7852-3851" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#wip"><img src="https://www.repostatus.org/badges/latest/wip.svg" alt="Project Status: WIP ‚Äì Initial development is in progress, but there has not yet been a stable, usable release suitable for the public."></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Serdar Balci.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
